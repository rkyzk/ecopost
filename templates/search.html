{% extends "base.html" %}

{% block content %}
<main role="main" class="container">
  <h3 class="mt-3">Search Posts</h3>
  <form method="GET" action="{% url 'search' %}">
  {% csrf_token %}
    <div class="row mt-4">
      <label for="title_search" class="col-sm-2 col-form-label">Title</label>
      <div class="col-sm-2">
        <select name="title_option" id="title_option" class="form-select">
          <option value="contains" selected>contains</option>
          <option value="is_exactly">is exactly</option>
        </select>
      </div>
      <div class="col-sm-6">
        <input id="title_search" class="form-control py-2 border-right-0 border" type="search" name="title_input" />
      </div>
      <span class="col-sm-1"><i class="fa fa-search"></i></span>        
    </div>
    <button type="submit" class="btn btn-primary mt-3" name="submit" value="search">Search</button>
  </form>
  <div class="row">
    {% for post in queryset %}
    <div class="col-md-4">
      {{ post.title }}
      <span>Author: {{ post.author.username }}</span>
    </div>    
    {% if forloop.counter|divisibleby:3 %}
</div>
<hr />
<div class="row">
    {% endif %}
    {% endfor %}
</div>
</main>
{% endblock %}